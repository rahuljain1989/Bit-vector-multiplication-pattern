

We have implemented our algorithms as a part of $\zthree$~\cite{z3} SMT solver.
%
 We evaluate the performance of our algorithms using benchmarks that are industrial and handcrafted hardware verification problems.
%
We compare with $\zthree$, $\boolector$\cite{boolector} and $\cvcfour$\cite{cvc4}.
%
Our experiments show that the solvers time out on the benchmarks and our implementation produces results within the time limit.

Our implementation of the algorithms in $\zthree$ is 1500 lines long.
%
The algorithms have been implemented in the bit vectors rewrite module of $\zthree$.
%
We chose to work in the rewrite module, since it gives an easy access to the abstract syntax tree of the input formula.
%
One important aspect in the implementation is the ability to exit as early as possible if the match is going to fail.
%
We implemented various preliminary checks \rahul{add some checks}.
%
Our implementation has two modes.
%
In the first mode we insert the learnt tautologies in the $\zthree$ solver within the current execution.
%
In the second mode other we do not run  the $\zthree$ solver and print the learnt tautologies in a file along with the input formula.
%
The mode allows us to run the other solvers on the newly generated formula.

Our experiments include x benchmarks.
%
We received an industrial hardware verification benchmark in $\sysver$ involving long multiplication that was not solved by any of the solvers in 24 hours.
%
The example inspired our current work and to evaluate it we generated several similar benchmarks.
%
For long multiplication, we generated benchmarks by varying three characteristics, namely total bit length of the input bit-vectors, width of each block, and assigning specific blocks as equal or set them to zero.
%
Our $\sysver$ benchmarks are fed to STEWord~\cite{Word-level-Symbolic-Trajectory-Evaluation}, a hardware verification tool.
%
STEWord takes $\sysver$ design as input and generates the corresponding SMT1 formula.
%
We convert the SMT1 formula to SMT2 format using $\boolector$.
%
In the process, $\boolector$ extensively simplifies the input formula but retains the overall structure.
%
We have generated benchmarks also for Wallace tree multiplier similar to the long multiplication.
%
For $n$-bit Wallace tree multiplier, we have written a script that takes $n$ as input and generates all the files needed as input by STEWord.
%


We run the solvers on the SMT2 formulas corresponding to the benchmarks by running the solvers on the original input formula and the modified formula after adding the new tautologies.
%
For $\zthree$ we also capture the time taken to solve when the tautologies are added during the current execution.

Shorthand, $O$ - original input formula, $M$ - Generated formula, $T$ - trunk version of solver, $CE$ - $\zthree$ - Continue execution after adding tautologies, $bool$ - Boolector.
The tables below specify the results obtained on the various benchmarks.
%


\begin{table}[]
\centering
\caption{Long multiplication}
\label{my-label}
\begin{tabular}{|l|l|l|l|l|l|l|l|}
\hline
Benchmark                  & z3 - T,O  & z3 - CE   & z3 - T,M  & bool - T,O & bool - T,M & cvc4 - T,O & cvc4 -T,M \\ \hline
base.smt2                  & 2m48.510s & 0.390s    & 0.475s    & 44.509s    & 46.009s    & 18.368s    & 0.024s    \\ \hline
ex1\_scaledup.smt2         & timeout   & 1.509s    & 1.653s    & timeout    & timeout    & timeout    & 0.025s    \\ \hline
ex2\_scaledup.smt2         & timeout   & 2.573s    & 3.050s    & timeout    & timeout    & timeout    & 0.022s    \\ \hline
ex3\_scaledup.smt2         & timeout   & 2.780s    & 2.842s    & timeout    & 7m52.392s  & timeout    & 0.032s    \\ \hline
ex5\_scaledup\_2.smt2      & 5m29.560s & 4m32.388s & 4m51.898s & 52.064s    & 16.455s    & 39.898s    & 0.022s    \\ \hline
mult\_3operands.smt2       & timeout   & timeout   & timeout   & timeout    & timeout    & timeout    & timeout   \\ \hline
sv\_assy.smt2              & timeout   & 0.061s    & 0.022s    & timeout    & timeout    & timeout    & 0.021s    \\ \hline
mot\_base\_scaledup.smt2   & timeout   & 11.816s   & 14.197s   & timeout    & timeout    & timeout    & 0.022s    \\ \hline
mot\_ex1\_scaledup\_2.smt2 & timeout   & timeout   & timeout   & timeout    & 18.425s    & timeout    & 0.019s    \\ \hline
mot\_ex2\_scaledup\_2.smt2 & timeout   & timeout   & timeout   & timeout    & 15.569s    & timeout    & 0.018s    \\ \hline
\end{tabular}
\end{table}

Explanation: 

\begin{table}[]
\centering
\caption{Wallace tree multiplier}
\label{my-label}
\begin{tabular}{|l|l|l|l|l|l|l|l|}
\hline
Benchmark   & z3 - T,O & z3 - CE & z3 - T,M & bool - T,O & bool - T,M & cvc4 - T,O & cvc4 -T,M \\ \hline
B1 - n bits &          &         &          &            &            &            &           \\ \hline
B2 - n bits &          &         &          &            &            &            &           \\ \hline
B3 - n nits &          &         &          &            &            &            &           \\ \hline
\end{tabular}
\end{table}

Explanation:



%--------------------- DO NOT ERASE BELOW THIS LINE --------------------------

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End:



 

