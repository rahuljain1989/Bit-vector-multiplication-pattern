

We have implemented our algorithms as a part of $\zthree$~\cite{z3} SMT solver.
%
 We evaluate the performance of our algorithms using benchmarks that are industrial and handcrafted hardware verification problems.
%
We compare with $\zthree$, $\boolector$\cite{boolector} and $\cvcfour$\cite{cvc4}.
%
Our experiments show that the solvers time out on the benchmarks and our implementation produces results within the time limit.

Our implementation of the algorithms in $\zthree$ is 1500 lines long.
%
The algorithms have been implemented in the bit vectors rewrite module of $\zthree$.
%
We chose to work in the rewrite module, since it gives an easy access to the abstract syntax tree of the input formula.
%
One important aspect in the implementation is the ability to exit as early as possible if the match is going to fail.
%
We implemented various preliminary checks \rahul{add some checks}.
%
Our implementation has two modes.
%
In the first mode we insert the learnt tautologies in the $\zthree$ solver within the current execution.
%
In the second mode other we do not run  the $\zthree$ solver and print the learnt tautologies in a file along with the input formula.
%
The mode allows us to run the other solvers on the newly generated formula.

Our experiments include x benchmarks.
%
We received an industrial hardware verification benchmark in $\sysver$ involving long multiplication that was not solved by any of the solvers in 24 hours.
%
The example inspired our current work and to evaluate it we generated several similar benchmarks.
%
For long multiplication, we generated benchmarks by varying three characteristics, namely total bit length of the input bit-vectors, width of each block, and assigning specific blocks as equal or set them to zero.
%
Our $\sysver$ benchmarks are fed to STEWord~\cite{Word-level-Symbolic-Trajectory-Evaluation}, a hardware verification tool.
%
STEWord takes $\sysver$ design as input and generates the corresponding SMT1 formula.
%
We convert the SMT1 formula to SMT2 format using $\boolector$.
%
In the process, $\boolector$ extensively simplifies the input formula but retains the overall structure.
%
We have generated benchmarks also for Wallace tree multiplier similar to the long multiplication.
%
For $n$-bit Wallace tree multiplier, we have written a script that takes $n$ as input and generates all the files needed as input by STEWord.
%


We run the solvers on the SMT2 formulas corresponding to the benchmarks by running the solvers on the original input formula and the modified formula after adding the new tautologies.
%
For $\zthree$ we also capture the time taken to solve when the tautologies are added during the current execution.

Shorthand, $O$ - original input formula, $M$ - Generated formula, $T$ - trunk version of solver, $CE$ - $\zthree$ - Continue execution after adding tautologies, $bool$ - Boolector.
The tables below specify the results obtained on the various benchmarks.
%

\begin{table}[]
\centering
\caption{Long multiplication}
\label{my-label}
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
                      & \multicolumn{3}{c|}{SMT Solver} & \multicolumn{3}{c|}{Our Solver} &          \\ \hline
Benchmark             & Z3        & Boolector  & CVC4   & Z3        & Boolector  & CVC4   & Z3       \\ \hline
base                  & 2m48.51s  & 44.50s     & 18.37s & 0.48s     & 46.0s      & 0.02s  & 0.39s    \\ \hline
ex1\_scaledup         & t/o       & t/o        & t/o    & 1.65s     & t/o        & 0.02s  & 1.50s    \\ \hline
ex2\_scaledup         & t/o       & t/o        & t/o    & 3.05s     & t/o        & 0.02s  & 2.57s    \\ \hline
ex3\_scaledup         & t/o       & t/o        & t/o    & 2.84s     & 7m52.39s   & 0.03s  & 2.78s    \\ \hline
ex5\_scaledup\_2      & 5m29.56s  & 52.06s     & 39.89s & 4m51.89s  & 16.46s     & 0.02s  & 4m32.39s \\ \hline
mult\_3operands       & t/o       & t/o        & t/o    & t/o       & t/o        & t/o    & t/o      \\ \hline
sv\_assy              & t/o       & t/o        & t/o    & 0.02s     & t/o        & 0.02s  & 0.06s    \\ \hline
mot\_base\_scaledup   & t/o       & t/o        & t/o    & 14.20s    & t/o        & 0.02s  & 11.81s   \\ \hline
mot\_ex1\_scaledup\_2 & t/o       & t/o        & t/o    & t/o       & 18.43s     & 0.02s  & t/o      \\ \hline
mot\_ex2\_scaledup\_2 & t/o       & t/o        & t/o    & t/o       & 15.57s     & 0.02s  & t/o      \\ \hline
\end{tabular}
\end{table}




Explanation: 

\begin{table}[]
\centering
\caption{Wallace tree multiplier}
\label{my-label}
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
                & \multicolumn{3}{c|}{SMT Solver} & \multicolumn{3}{c|}{Our Solver} &       \\ \hline
Benchmark       & Z3       & Boolector & CVC4     & Z3      & Boolector   & CVC4    & Z3    \\ \hline
wallace\_4bits  & 0.08s    & 0.04s     & 0.04s    & 0.02s   & 0.05s       & 0.05s   & 0.08s \\ \hline
wallace\_8bits  & 3m33.33s & 1m3.80s   & 3m32.79s & 0.05s   & 30.60s      & t/o     & 0.44s \\ \hline
wallace\_12bits & t/o      & t/o       & t/o      & 0.09s   & 3m47.17s    & t/o     & 1.20s \\ \hline
wallace\_16bits & t/o      & t/o       & t/o      & 0.16s   & 11m28.19s   & t/o     & 2.26s \\ \hline
\end{tabular}
\end{table}


Explanation:



%--------------------- DO NOT ERASE BELOW THIS LINE --------------------------

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End:



 

